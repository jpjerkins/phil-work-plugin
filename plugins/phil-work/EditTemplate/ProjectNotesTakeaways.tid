created: 20230409003505264
modified: 20230409003505264
tags: template $:/tags/EditTemplate
title: $:/plugins/pjerkins/phil-work/EditTemplate/ProjectNotesTakeaways

\define newTakeawayTags() [[$(project)$]] Task

<$list filter="[is[current]has[draft.of]tags[]tag[Project]first[]]" variable=_>
<$let
    project={{{ [is[current]tags[]tag[Project]first[]] }}}
    context={{{ [is[current]get[draft.of]] }}}>

!! Takeaways
<$edit-text tag=input field="new-takeaway" />
<$button>
<$action-createtiddler $basetitle={{!!new-takeaway}} context=<<context>> tags=<<newTakeawayTags>> />
<$action-deletefield $tiddler=<<currentTiddler>> $field="new-takeaway"/>
Add
</$button>

<$list
    template="$:/plugins/pjerkins/phil-work/ViewTemplate/TaskTemplate"
    filter="[tag[Task]!tag[Done]!tag[Parked]tag<project>has[context]field:context<context>]" />

</$let>
</$list>
